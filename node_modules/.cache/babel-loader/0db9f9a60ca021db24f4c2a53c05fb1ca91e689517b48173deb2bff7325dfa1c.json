{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useSelector } from 'react-redux';\nimport { selectCurrentToken } from \"../features/auth/authSlice\";\nimport jwtDecode from 'jwt-decode';\nconst useAuth = () => {\n  _s();\n  const token = useSelector(selectCurrentToken);\n  let isAdmin = false;\n  let isSuperAdmin = false;\n  let status = \"guest\";\n  if (token) {\n    const decoded = jwtDecode(token);\n    const {\n      username,\n      roles\n    } = decoded.UserInfo;\n    isAdmin = roles.includes('admin');\n    isSuperAdmin = roles.includes('superadmin');\n    if (isAdmin) status = \"admin\";\n    if (isSuperAdmin) status = \"superadmin\";\n    return {\n      username,\n      roles,\n      status,\n      isAdmin,\n      isSuperAdmin\n    };\n  }\n  return {\n    username: '',\n    roles: [],\n    isAdmin,\n    isSuperAdmin,\n    status\n  };\n};\n_s(useAuth, \"bD5+gKbiITcJRDYAIJK4ZSEgato=\", false, function () {\n  return [useSelector];\n});\nexport default useAuth;","map":{"version":3,"names":["useSelector","selectCurrentToken","jwtDecode","useAuth","_s","token","isAdmin","isSuperAdmin","status","decoded","username","roles","UserInfo","includes"],"sources":["/Users/sebastians/EventSphere/event-sphere-frontend/src/hooks/useAuth.js"],"sourcesContent":["import { useSelector } from 'react-redux'\nimport { selectCurrentToken } from \"../features/auth/authSlice\"\nimport jwtDecode from 'jwt-decode'\n\nconst useAuth = () => {\n    const token = useSelector(selectCurrentToken)\n    let isAdmin = false\n    let isSuperAdmin = false\n    let status = \"guest\"\n\n    if (token) {\n        const decoded = jwtDecode(token)\n        const { username, roles } = decoded.UserInfo\n\n        isAdmin = roles.includes('admin')\n        isSuperAdmin = roles.includes('superadmin')\n\n        if (isAdmin) status = \"admin\"\n        if (isSuperAdmin) status = \"superadmin\"\n\n        return { username, roles, status, isAdmin, isSuperAdmin }\n    }\n\n    return { username: '', roles: [], isAdmin, isSuperAdmin, status }\n}\nexport default useAuth"],"mappings":";AAAA,SAASA,WAAW,QAAQ,aAAa;AACzC,SAASC,kBAAkB,QAAQ,4BAA4B;AAC/D,OAAOC,SAAS,MAAM,YAAY;AAElC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAMC,KAAK,GAAGL,WAAW,CAACC,kBAAkB,CAAC;EAC7C,IAAIK,OAAO,GAAG,KAAK;EACnB,IAAIC,YAAY,GAAG,KAAK;EACxB,IAAIC,MAAM,GAAG,OAAO;EAEpB,IAAIH,KAAK,EAAE;IACP,MAAMI,OAAO,GAAGP,SAAS,CAACG,KAAK,CAAC;IAChC,MAAM;MAAEK,QAAQ;MAAEC;IAAM,CAAC,GAAGF,OAAO,CAACG,QAAQ;IAE5CN,OAAO,GAAGK,KAAK,CAACE,QAAQ,CAAC,OAAO,CAAC;IACjCN,YAAY,GAAGI,KAAK,CAACE,QAAQ,CAAC,YAAY,CAAC;IAE3C,IAAIP,OAAO,EAAEE,MAAM,GAAG,OAAO;IAC7B,IAAID,YAAY,EAAEC,MAAM,GAAG,YAAY;IAEvC,OAAO;MAAEE,QAAQ;MAAEC,KAAK;MAAEH,MAAM;MAAEF,OAAO;MAAEC;IAAa,CAAC;EAC7D;EAEA,OAAO;IAAEG,QAAQ,EAAE,EAAE;IAAEC,KAAK,EAAE,EAAE;IAAEL,OAAO;IAAEC,YAAY;IAAEC;EAAO,CAAC;AACrE,CAAC;AAAAJ,EAAA,CApBKD,OAAO;EAAA,QACKH,WAAW;AAAA;AAoB7B,eAAeG,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}